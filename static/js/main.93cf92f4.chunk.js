(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{51:function(e,n,t){"use strict";t.r(n);var r,i,c,a,s,o,l,d,u,j,b,m,p,h,O,f,x,g,y,w,v,k,C,P,S,W=t(1),F=t.n(W),T=t(20),E=t.n(T),M=t(7),B=t(5),I=t(4),K=Object(I.b)(r||(r=Object(B.a)(["\n  * {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n\n  html {\n    font-size: 62.5%;\n  }\n\n  body {\n    font-size: 1rem;\n    font-family: 'Poppins', sans-serif;\n    background-color: ",";\n  }\n\n  h1 {\n    font-size: 3rem;\n\n    @media (min-width: 768px) {\n      font-size: 4rem;\n    }\n  }\n\n  h2 {\n    font-size: 2.5rem;\n    text-align: center;\n    margin-bottom: 2rem;\n\n    @media (min-width: 768px) {\n      font-size: 3rem;\n    }\n  }\n\n  p {\n    font-size: 1.4rem;\n\n    @media (min-width: 768px) {\n      font-size: 1.8rem;\n    }\n  }\n\n  ul {\n    list-style: none;\n    padding: 0;\n  }\n\n  body,\n  input,\n  textarea,\n  button {\n    font-family: 'Poppins', sans-serif;\n  }\n"])),(function(e){return e.theme.colors.lightOrange})),V={colors:{black:"#1D1D1B",white:"#FFF",lightOrange:"#FFE6B9",purple:"#414293",lightPurple:"#8687E5",transparentPurple:"rgba(134, 135, 229, 0.2)",red:"#B51212"}},z=t.p+"static/media/arrow.769a61d8.svg",U=I.d.button(i||(i=Object(B.a)(["\n  background-color: ",";\n  border-radius: 3rem;\n  border: none;\n  padding: 1.4rem 0;\n  width: 12rem;\n  text-transform: uppercase;\n  color: ",";\n  font-weight: 700;\n  font-size: 1.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: ",";\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  cursor: pointer;\n  transition: 0.3s all ease-in-out;\n  margin-left: ",";\n  position: ",";\n  top: ",";\n  left: ",";\n  right: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n\n  ::after {\n    content: '';\n    background-image: url(",");\n    background-size: cover;\n    transform: ",";\n    display: inline-block;\n    height: 1.4rem;\n    width: 1.8rem;\n    background-repeat: no-repeat;\n    margin-left: ",";\n    margin-right: ",";\n  }\n"])),(function(e){return e.theme.colors.lightPurple}),(function(e){return e.theme.colors.white}),(function(e){return e.back?"row-reverse":"row"}),(function(e){return e.singleBtn?"auto":"unset"}),(function(e){return e.singleBtn?"relative":"absolute"}),(function(e){return e.last?"100%":"0"}),(function(e){return e.back?"0":"unset"}),(function(e){return e.back?"unset":"0"}),(function(e){return e.theme.colors.purple}),z,(function(e){return e.back?"rotate(-180deg)":null}),(function(e){return e.back?"0":"1rem"}),(function(e){return e.back?"1rem":"0"})),D=I.d.div(c||(c=Object(B.a)(["\n  margin: 0 auto;\n  padding: 0 1.5rem;\n  position: relative;\n  width: 100%;\n  max-width: 1200px;\n"]))),L=I.d.div(a||(a=Object(B.a)(["\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),A=I.d.div(s||(s=Object(B.a)(["\n  max-width: 80rem;\n  margin: 0 auto;\n\n  @media (min-width: 768px) {\n    padding: 0 2rem;\n  }\n"]))),Q=I.d.h1(o||(o=Object(B.a)(["\n  text-align: center;\n"]))),N=I.d.p(l||(l=Object(B.a)(["\n  margin: 2rem 0;\n  text-align: center;\n"]))),Z=I.d.p(d||(d=Object(B.a)(["\n  font-size: 1rem;\n  margin-bottom: 2rem;\n  text-align: center;\n"]))),J=t(0),R=function(e){var n=e.setFormVisible;return Object(J.jsx)(L,{children:Object(J.jsx)(D,{children:Object(J.jsxs)(A,{children:[Object(J.jsx)(Q,{children:"Welcome to Find your car App!"}),Object(J.jsx)(N,{children:"This app allows you to find your car in a 6 simple steps. Are you ready? Let's start!"}),Object(J.jsx)(Z,{children:"*At the moment our car base is pretty small and we only support search for two cars - BMW 3er model and Ford Fiesta and C-Max models."}),Object(J.jsx)(U,{singleBtn:!0,onClick:function(){return n(!0)},children:"Start"})]})})})},q=t(13),G=Object(W.createContext)(),H=function(e){var n=Object(W.useState)(""),t=Object(M.a)(n,2),r=t[0],i=t[1],c=Object(W.useState)(""),a=Object(M.a)(c,2),s=a[0],o=a[1],l=Object(W.useState)(""),d=Object(M.a)(l,2),u=d[0],j=d[1],b=Object(W.useState)(""),m=Object(M.a)(b,2),p=m[0],h=m[1],O=Object(W.useState)(""),f=Object(M.a)(O,2),x=f[0],g=f[1],y=Object(W.useState)(""),w=Object(M.a)(y,2),v=w[0],k=w[1],C=Object(W.useState)("KW"),P=Object(M.a)(C,2),S=P[0],F=P[1],T=Object(W.useState)(""),E=Object(M.a)(T,2),B=E[0],I=E[1],K=Object(W.useState)(""),V=Object(M.a)(K,2),z=V[0],U=V[1],D=Object(W.useState)(1),L=Object(M.a)(D,2),A=L[0],Q=L[1];return Object(J.jsx)(G.Provider,{value:{make:r,setMake:i,model:s,setModel:o,fuelType:u,setFuelType:j,bodyType:p,setBodyType:h,powerEngine:x,setPowerEngine:g,engineCapacity:v,setEngineCapacity:k,enginePowerUnits:S,setEnginePowerUnits:F,step:A,stepIncrement:function(){Q((function(e){return e+1}))},stepDecrement:function(){Q((function(e){return e-1}))},userMakeInput:B,setUserMakeInput:I,userModelInput:z,setUserModelInput:U},children:e.children})},X=I.d.h2(u||(u=Object(B.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.red})),Y=I.d.div(j||(j=Object(B.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n"]))),$=function(e){var n=e.error;return Object(J.jsx)(Y,{children:Object(J.jsx)(X,{children:n})})},_=Object(I.e)(b||(b=Object(B.a)(["\n0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n"]))),ee=I.d.div(m||(m=Object(B.a)(["\n  border-radius: 50%;\n  width: 10rem;\n  height: 10rem;\n  margin: 60px auto;\n  font-size: 10px;\n  position: relative;\n  text-indent: -9999em;\n  border-top: 1.1rem solid ",";\n  border-right: 1.1rem solid ",";\n  border-bottom: 1.1rem solid ",";\n  border-left: 1.1rem solid ",";\n  -webkit-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation: "," 1.1s infinite linear;\n  animation: "," 1.1s infinite linear;\n\n  ::after {\n    border-radius: 50%;\n    width: 10rem;\n    height: 10rem;\n  }\n"])),(function(e){return e.theme.colors.transparentPurple}),(function(e){return e.theme.colors.transparentPurple}),(function(e){return e.theme.colors.transparentPurple}),(function(e){return e.theme.colors.lightPurple}),_,_),ne=function(){return Object(J.jsx)(ee,{children:"Loading..."})},te=I.d.div(p||(p=Object(B.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: calc(100vh - 6rem);\n    position: relative;\n"]))),re=function(){var e=Object(W.useContext)(G).stepDecrement;return Object(J.jsxs)(te,{children:[Object(J.jsx)("h2",{children:"At the moment our car base is pretty small and we only support BMW 3er model and Ford Fiesta and C-Max models."}),Object(J.jsx)(U,{back:!0,onClick:e,children:"Back"})]})},ie=I.d.div(h||(h=Object(B.a)(["\n  padding: 3rem 0;\n"]))),ce=I.d.ul(O||(O=Object(B.a)(["\n  @media (min-width: 768px) {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    column-gap: 1rem;\n  }\n\n  @media (min-width: 1024px) {\n    grid-template-columns: repeat(4, 1fr);\n    max-width: 80rem;\n    margin: 0 auto 2rem;\n  }\n"]))),ae=I.d.li(f||(f=Object(B.a)(["\n  width: 100%;\n  max-width: 45rem;\n  margin: 0 auto 1rem;\n  position: relative;\n\n  ","\n"])),(function(e){return e.small&&Object(I.c)(x||(x=Object(B.a)(["\n    max-width: 5rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  "])))})),se=I.d.input(g||(g=Object(B.a)(["\n  border: 0.15rem solid ",";\n  border-radius: 0.5rem;\n  padding: 1.5rem;\n  width: 100%;\n  max-width: 45rem;\n  display: block;\n  margin: 2rem auto;\n"])),(function(e){return e.theme.colors.purple})),oe=I.d.input(y||(y=Object(B.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  cursor: pointer;\n"]))),le=I.d.label(w||(w=Object(B.a)(["\n  display: block;\n  border: 0.15rem solid ",";\n  border-radius: 0.5rem;\n  padding: 1.5rem;\n  background-color: ",";\n  color: ",";\n  font-size: 1.4rem;\n"])),(function(e){return e.theme.colors.purple}),(function(e){var n=e.selected,t=e.theme;return n?t.colors.purple:t.colors.white}),(function(e){var n=e.selected,t=e.theme;return n?t.colors.white:t.colors.black})),de=I.d.div(v||(v=Object(B.a)(["\n  position: relative;\n  width: 100%;\n  max-width: 45rem;\n  margin: 1rem auto;\n  height: 5rem;\n\n  @media (min-width: 768px) {\n    max-width: 100%;\n  }\n\n  @media (min-width: 1024px) {\n    max-width: 80rem;\n    margin: 0 auto;\n  }\n"]))),ue=I.d.div(k||(k=Object(B.a)(["\n  position: relative;\n"]))),je=I.d.div(C||(C=Object(B.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 2rem;\n  border: 0.15rem solid ",";\n  border-radius: 0.5rem;\n  background-color: ",";\n  max-width: 80rem;\n  margin: 0 auto;\n"])),(function(e){return e.theme.colors.purple}),(function(e){return e.theme.colors.white})),be=I.d.span(P||(P=Object(B.a)(["\n  font-weight: 700;\n"]))),me=I.d.ul(S||(S=Object(B.a)(["\n  display: flex;\n  justify-content: space-around;\n  max-width: 30rem;\n  margin: 0 auto 2rem;\n"]))),pe=function(){var e=Object(W.useContext)(G),n=e.enginePowerUnits,t=e.setEnginePowerUnits;return Object(J.jsxs)(me,{onChange:function(e){return t(e.target.value)},children:[Object(J.jsxs)(ae,{small:!0,children:[Object(J.jsx)(le,{selected:"KW"===n,children:"KW"}),Object(J.jsx)(oe,{type:"radio",name:"unit",value:"KW",defaultChecked:!0})]}),Object(J.jsxs)(ae,{small:!0,style:{position:"relative"},children:[Object(J.jsx)(le,{selected:"PS"===n,children:"PS"}),Object(J.jsx)(oe,{type:"radio",name:"unit",value:"PS"})]})]})},he=function(e){var n=e.vehicles,t=e.isLoading,r=e.isError,i=e.error,c=e.name,a=Object(W.useState)([]),s=Object(M.a)(a,2),o=s[0],l=s[1],d=Object(W.useContext)(G),u=d.model,j=d.fuelType,b=d.setFuelType,m=d.bodyType,p=d.setBodyType,h=d.powerEngine,O=d.setPowerEngine,f=d.engineCapacity,x=d.setEngineCapacity,g=d.step,y=d.stepIncrement,w=d.stepDecrement;if(Object(W.useEffect)((function(){var e=n.map((function(e){return e[c]})),t=new Set(e);l(Array.from(t).sort((function(e,n){return e>n?1:-1})))}),[n,c]),t)return Object(J.jsx)(ne,{});if(r)return Object(J.jsx)($,{error:i});if("fuelType"===c&&"3er"!==u&&"C-Max"!==u&&"Fiesta"!==u)return Object(J.jsx)(re,{});var v=function(e){switch(c){case"fuelType":return{title:"What fuel do you tank?",label:e,state:j,setState:b};case"bodyType":return{title:"What body type does your car have?",label:e,state:m,setState:p};case"enginePowerKW":return{title:"What engine power does your car have?",label:e+" KW",state:h,setState:O};case"enginePowerPS":return{title:"What engine power does your car have?",label:e+" PS",state:h,setState:O};case"engineCapacity":return{title:"What engine capacity does your car have?",label:e+" CC",state:f,setState:x}}};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("p",{children:["Step ",g.toString(),"/6"]}),Object(J.jsx)("h2",{children:v().title}),c.startsWith("enginePower")?Object(J.jsx)(pe,{}):null,Object(J.jsx)("ul",{onChange:function(e){return v().setState(e.target.value)},children:o.map((function(e,n){return Object(J.jsxs)(ae,{children:[Object(J.jsx)(oe,{name:c,type:"radio",value:e}),Object(J.jsx)(le,{selected:e.toString()===v().state,children:v(e).label})]},n)}))}),Object(J.jsxs)(de,{children:[Object(J.jsx)(U,{back:!0,onClick:w,children:"Back"}),v().state&&o.includes(c.startsWith("enginePower")||"engineCapacity"===c?+v().state:v().state)&&Object(J.jsx)(U,{onClick:y,children:"Next"})]})]})},Oe=function(e){var n=e.step,t=e.name,r=e.options,i=Object(W.useContext)(G),c=i.userMakeInput,a=i.setUserMakeInput,s=i.userModelInput,o=i.setUserModelInput,l=i.make,d=i.setMake,u=i.model,j=i.setModel,b=function(){return"make"===t?{inputValue:c,setInputValue:a,state:l,setState:d}:{inputValue:s,setInputValue:o,state:u,setState:j}};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("p",{children:["Step ",n,"/6"]}),Object(J.jsxs)("h2",{children:["Please select your car ",t]}),Object(J.jsx)(se,{type:"text",value:b().inputValue,onChange:function(e){return b().setInputValue(e.target.value)}}),Object(J.jsx)(ce,{onChange:function(e){return b().setState(e.target.value)},children:r.filter((function(e){return e.toUpperCase().startsWith(b().inputValue.toUpperCase())})).map((function(e,n){return Object(J.jsxs)(ae,{children:[Object(J.jsx)(oe,{name:"make",type:"radio",value:e}),Object(J.jsx)(le,{selected:e===b().state,children:e})]},n)}))})]})},fe=function(){var e=Object(W.useContext)(G),n=e.make,t=e.stepIncrement,r=Object(q.useQuery)("makes",(function(){return fetch("http://localhost:8080/api/makes").then((function(e){return e.json()}))})),i=r.isLoading,c=r.isError,a=r.error,s=r.data;return i?Object(J.jsx)(ne,{}):c?Object(J.jsx)($,{error:a}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Oe,{step:"1",name:"make",options:s}),Object(J.jsx)(de,{children:n&&Object(J.jsx)(U,{singleBtn:!0,onClick:t,children:"Next"})})]})},xe=function(){var e=Object(W.useContext)(G),n=e.make,t=e.model,r=e.stepIncrement,i=e.stepDecrement,c=Object(q.useQuery)(["models",n],(function(){return fetch("http://localhost:8080/api/models?make=".concat(ye(n))).then((function(e){return e.json()}))}),{enabled:!!n}),a=c.data,s=c.isLoading,o=c.isError,l=c.error;return"FORD"!==n&&"BMW"!==n?Object(J.jsx)(re,{}):s?Object(J.jsx)(ne,{}):o?Object(J.jsx)($,{error:l}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Oe,{step:"2",name:"model",options:a}),Object(J.jsxs)(de,{children:[Object(J.jsx)(U,{back:!0,onClick:i,children:"Back"}),t&&a.includes(t)&&Object(J.jsx)(U,{onClick:r,children:"Next"})]})]})},ge=function(e){var n=e.filteredVehicles,t=e.setFormVisible,r=Object(M.a)(n,1)[0],i=Object(W.useContext)(G).stepDecrement;return n.length?Object(J.jsx)("div",{children:Object(J.jsxs)(ue,{children:[Object(J.jsx)("h2",{children:"Selected vehicle:"}),Object(J.jsxs)(je,{children:[Object(J.jsxs)("p",{children:[Object(J.jsx)(be,{children:"Make:"})," ",r.make]}),Object(J.jsxs)("p",{children:[Object(J.jsx)(be,{children:"Model:"})," ",r.model]}),Object(J.jsxs)("p",{children:[Object(J.jsx)(be,{children:"Body type:"})," ",r.bodyType]}),Object(J.jsxs)("p",{children:[Object(J.jsx)(be,{children:"Fuel type:"})," ",r.fuelType]}),Object(J.jsxs)("p",{children:[Object(J.jsx)(be,{children:"Engine power KW:"})," ",r.enginePowerKW," KW"]}),Object(J.jsxs)("p",{children:[Object(J.jsx)(be,{children:"Engine power PS:"})," ",r.enginePowerPS," PS"]}),Object(J.jsxs)("p",{children:[Object(J.jsx)(be,{children:"Engine capacity:"})," ",r.engineCapacity," CC"]})]}),Object(J.jsxs)(de,{children:[Object(J.jsx)(U,{last:!0,back:!0,onClick:i,children:"Back"}),Object(J.jsx)(U,{last:!0,onClick:function(){return t(!1)},children:"Again"})]})]})}):Object(J.jsx)("p",{children:"We don't have car with provided parameters."})},ye=function(e){return e.split("")[0]+e.split("").slice(1).join("").toLowerCase()},we=function(e){var n=e.setFormVisible,t=Object(W.useContext)(G),r=t.make,i=t.model,c=t.fuelType,a=t.bodyType,s=t.powerEngine,o=t.engineCapacity,l=t.enginePowerUnits,d=t.step,u=Object(q.useQuery)(["vehicles",i,r],(function(){return fetch("http://localhost:8080/api/vehicles?make=".concat(ye(r),"&model=").concat(i)).then((function(e){return e.json()}))}),{enabled:!!i,initialData:[]}),j=u.isLoading,b=u.isError,m=u.error,p=u.data;return Object(J.jsx)(ie,{children:Object(J.jsxs)(D,{children:[1===d&&Object(J.jsx)(fe,{}),2===d&&Object(J.jsx)(xe,{}),3===d&&Object(J.jsx)(he,{vehicles:p,isLoading:j,isError:b,error:m,name:"fuelType"}),4===d&&Object(J.jsx)(he,{vehicles:p.filter((function(e){return e.fuelType===c})),name:"bodyType"}),5===d&&Object(J.jsx)(he,{vehicles:p.filter((function(e){return e.fuelType===c&&e.bodyType===a})),name:"KW"===l?"enginePowerKW":"enginePowerPS"}),6===d&&Object(J.jsx)(he,{vehicles:p.filter((function(e){return e.fuelType===c&&e.bodyType===a&&("KW"===l?e.enginePowerKW===+s:e.enginePowerPS===+s)})),name:"engineCapacity"}),7===d&&Object(J.jsx)(ge,{filteredVehicles:p.filter((function(e){return e.fuelType===c&&e.bodyType===a&&e.engineCapacity===+o&&("KW"===l?e.enginePowerKW===+s:e.enginePowerPS===+s)})),setFormVisible:n})]})})},ve=new q.QueryClient;var ke=function(){var e=Object(W.useState)(!1),n=Object(M.a)(e,2),t=n[0],r=n[1];return Object(J.jsx)(q.QueryClientProvider,{client:ve,children:Object(J.jsxs)(I.a,{theme:V,children:[Object(J.jsx)(K,{}),t?Object(J.jsx)(H,{children:Object(J.jsx)(we,{setFormVisible:r})}):Object(J.jsx)(R,{setFormVisible:r})]})})};E.a.render(Object(J.jsx)(F.a.StrictMode,{children:Object(J.jsx)(ke,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.93cf92f4.chunk.js.map